{"version":3,"file":"slice.js","sourceRoot":"","sources":["../../../../../../../libs/state/src/lib/transformation-helpers/object/slice.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,aAAa,EAAE,MAAM,YAAY,CAAC;AAE/D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAkCG;AACH,MAAM,UAAU,KAAK,CACnB,MAAS,EACT,IAAa;IAEb,MAAM,cAAc,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC;IAElE,IAAI,CAAC,cAAc,EAAE;QACnB,OAAO,CAAC,IAAI,CAAC,0BAA0B,MAAM,qBAAqB,CAAC,CAAC;QACpE,OAAO,SAAgB,CAAC;KACzB;IAED,MAAM,aAAa,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAChE,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,CAAI,CAAC,CAAC,IAAI,CAAC,IAAI,MAAM,CACpC,CAAC;IAEF,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;QACzB,OAAO,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;QAC/C,OAAO,SAAgB,CAAC;KACzB;IAED,OAAO,aAAa,CAAC,MAAM,CACzB,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,iCAAM,GAAG,KAAE,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,IAAG,EACxC,EAAgB,CACjB,CAAC;AACJ,CAAC","sourcesContent":["import { isDefined, isKeyOf, isObjectGuard } from '../../core';\r\n\r\n/**\r\n * @description\r\n * Accepts an object of type T and single key or array of keys (K extends keyof T).\r\n * Constructs new object based on provided keys.\r\n *\r\n * @example\r\n *\r\n * const cat = {id: 1, type: 'cat', name: 'Fluffy'};\r\n *\r\n * const catWithoutType = slice(cat, ['name', 'id']);\r\n *\r\n * // catWithoutType will be:\r\n * // {id: 1, name: 'Fluffy'};\r\n *\r\n * @example\r\n * // Usage with RxState\r\n *\r\n * export class AnimalsListComponent {\r\n *\r\n *    constructor(private state: RxState<ComponentState>, private api: ApiService) {\r\n *      state.connect(\r\n *        'animals'\r\n *        this.api.getAnimals(),\r\n *        (state, animals) => {\r\n *            return animals.map(animal => slice(animal, ['id', 'name']));\r\n *        }\r\n *      );\r\n *    }\r\n * }\r\n *\r\n * @returns T\r\n *\r\n * @docsPage slice\r\n * @docsCategory transformation-helpers\r\n */\r\nexport function slice<T extends object, K extends keyof T>(\r\n  object: T,\r\n  keys: K | K[]\r\n): Pick<T, K> {\r\n  const objectIsObject = isDefined(object) && isObjectGuard(object);\r\n\r\n  if (!objectIsObject) {\r\n    console.warn(`slice: original value (${object}) is not an object.`);\r\n    return undefined as any;\r\n  }\r\n\r\n  const sanitizedKeys = (Array.isArray(keys) ? keys : [keys]).filter(\r\n    (k) => isKeyOf<T>(k) && k in object\r\n  );\r\n\r\n  if (!sanitizedKeys.length) {\r\n    console.warn(`slice: provided keys not found`);\r\n    return undefined as any;\r\n  }\r\n\r\n  return sanitizedKeys.reduce(\r\n    (acc, k) => ({ ...acc, [k]: object[k] }),\r\n    {} as Pick<T, K>\r\n  );\r\n}\r\n"]}