export function buildGraph(object) {
    const data = { nodes: {}, materials: {} };
    if (object) {
        object.traverse((obj) => {
            if (obj.name) {
                data.nodes[obj.name] = obj;
            }
            if (obj.material &&
                !data.materials[obj
                    .material.name]) {
                data.materials[obj
                    .material.name] = obj.material;
            }
        });
    }
    return data;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGQtZ3JhcGguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9saWIvdXRpbHMvYnVpbGQtZ3JhcGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTSxVQUFVLFVBQVUsQ0FBQyxNQUFzQjtJQUMvQyxNQUFNLElBQUksR0FBaUIsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUN4RCxJQUFJLE1BQU0sRUFBRTtRQUNWLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUN0QixJQUFJLEdBQUcsQ0FBQyxJQUFJLEVBQUU7Z0JBQ1osSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDO2FBQzVCO1lBQ0QsSUFDRyxHQUFnQyxDQUFDLFFBQVE7Z0JBQzFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FFVixHQUFnQztxQkFDOUIsUUFDSixDQUFDLElBQWMsQ0FDakIsRUFDRDtnQkFDQSxJQUFJLENBQUMsU0FBUyxDQUVULEdBQWdDO3FCQUM5QixRQUNKLENBQUMsSUFBYyxDQUNqQixHQUFJLEdBQWdDLENBQUMsUUFBMEIsQ0FBQzthQUNsRTtRQUNILENBQUMsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBOZ3RPYmplY3RNYXAsIFVua25vd25SZWNvcmQgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEdyYXBoKG9iamVjdDogVEhSRUUuT2JqZWN0M0QpOiBOZ3RPYmplY3RNYXAge1xuICBjb25zdCBkYXRhOiBOZ3RPYmplY3RNYXAgPSB7IG5vZGVzOiB7fSwgbWF0ZXJpYWxzOiB7fSB9O1xuICBpZiAob2JqZWN0KSB7XG4gICAgb2JqZWN0LnRyYXZlcnNlKChvYmopID0+IHtcbiAgICAgIGlmIChvYmoubmFtZSkge1xuICAgICAgICBkYXRhLm5vZGVzW29iai5uYW1lXSA9IG9iajtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgKG9iaiBhcyB1bmtub3duIGFzIFVua25vd25SZWNvcmQpLm1hdGVyaWFsICYmXG4gICAgICAgICFkYXRhLm1hdGVyaWFsc1tcbiAgICAgICAgICAoXG4gICAgICAgICAgICAob2JqIGFzIHVua25vd24gYXMgVW5rbm93blJlY29yZClcbiAgICAgICAgICAgICAgLm1hdGVyaWFsIGFzIHVua25vd24gYXMgVW5rbm93blJlY29yZFxuICAgICAgICAgICkubmFtZSBhcyBzdHJpbmdcbiAgICAgICAgXVxuICAgICAgKSB7XG4gICAgICAgIGRhdGEubWF0ZXJpYWxzW1xuICAgICAgICAgIChcbiAgICAgICAgICAgIChvYmogYXMgdW5rbm93biBhcyBVbmtub3duUmVjb3JkKVxuICAgICAgICAgICAgICAubWF0ZXJpYWwgYXMgdW5rbm93biBhcyBVbmtub3duUmVjb3JkXG4gICAgICAgICAgKS5uYW1lIGFzIHN0cmluZ1xuICAgICAgICBdID0gKG9iaiBhcyB1bmtub3duIGFzIFVua25vd25SZWNvcmQpLm1hdGVyaWFsIGFzIFRIUkVFLk1hdGVyaWFsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuIl19