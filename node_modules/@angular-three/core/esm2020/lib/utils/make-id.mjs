import { MathUtils } from 'three';
/**
 * Generate a random Id or an Event's uuid
 *
 * @param {NgtIntersection} event
 *
 * @internal
 * @private
 */
export function makeId(event) {
    if (event) {
        return ((event.eventObject || event.object).uuid +
            '/' +
            event.index +
            event.instanceId);
    }
    return id();
}
const cache = {};
/**
 * Generates a UUID.
 */
export function id() {
    const newId = MathUtils.generateUUID();
    // ensure not already used
    if (!cache[newId]) {
        cache[newId] = true;
        return newId;
    }
    return id();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFrZS1pZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2xpYi91dGlscy9tYWtlLWlkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFHbEM7Ozs7Ozs7R0FPRztBQUNILE1BQU0sVUFBVSxNQUFNLENBQUMsS0FBdUI7SUFDNUMsSUFBSSxLQUFLLEVBQUU7UUFDVCxPQUFPLENBQ0wsQ0FBQyxLQUFLLENBQUMsV0FBVyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJO1lBQ3hDLEdBQUc7WUFDSCxLQUFLLENBQUMsS0FBSztZQUNYLEtBQUssQ0FBQyxVQUFVLENBQ2pCLENBQUM7S0FDSDtJQUVELE9BQU8sRUFBRSxFQUFFLENBQUM7QUFDZCxDQUFDO0FBRUQsTUFBTSxLQUFLLEdBQTBDLEVBQUUsQ0FBQztBQUV4RDs7R0FFRztBQUNILE1BQU0sVUFBVSxFQUFFO0lBQ2hCLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUV2QywwQkFBMEI7SUFDMUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNqQixLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7SUFFRCxPQUFPLEVBQUUsRUFBRSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hdGhVdGlscyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB0eXBlIHsgTmd0SW50ZXJzZWN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgcmFuZG9tIElkIG9yIGFuIEV2ZW50J3MgdXVpZFxuICpcbiAqIEBwYXJhbSB7Tmd0SW50ZXJzZWN0aW9ufSBldmVudFxuICpcbiAqIEBpbnRlcm5hbFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VJZChldmVudD86IE5ndEludGVyc2VjdGlvbikge1xuICBpZiAoZXZlbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKGV2ZW50LmV2ZW50T2JqZWN0IHx8IGV2ZW50Lm9iamVjdCkudXVpZCArXG4gICAgICAnLycgK1xuICAgICAgZXZlbnQuaW5kZXggK1xuICAgICAgZXZlbnQuaW5zdGFuY2VJZFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gaWQoKTtcbn1cblxuY29uc3QgY2FjaGU6IHsgW2lkOiBzdHJpbmddOiBib29sZWFuIHwgdW5kZWZpbmVkIH0gPSB7fTtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBVVUlELlxuICovXG5leHBvcnQgZnVuY3Rpb24gaWQoKTogc3RyaW5nIHtcbiAgY29uc3QgbmV3SWQgPSBNYXRoVXRpbHMuZ2VuZXJhdGVVVUlEKCk7XG5cbiAgLy8gZW5zdXJlIG5vdCBhbHJlYWR5IHVzZWRcbiAgaWYgKCFjYWNoZVtuZXdJZF0pIHtcbiAgICBjYWNoZVtuZXdJZF0gPSB0cnVlO1xuICAgIHJldHVybiBuZXdJZDtcbiAgfVxuXG4gIHJldHVybiBpZCgpO1xufVxuIl19