import { InjectionToken, Optional } from '@angular/core';
import { NGT_OBJECT_WATCHED_CONTROLLER, } from '../controllers/object-3d.controller';
import { NgtSobaExtender } from '../three/extender';
export const NGT_OBJECT_3D = new InjectionToken('THREE_OBJECT_3D');
export const NGT_OBJECT_3D_PROVIDER = {
    provide: NGT_OBJECT_3D,
    useFactory: (sobaExtender, objectController) => {
        return () => {
            if (sobaExtender)
                return sobaExtender.object;
            if (objectController)
                return objectController.object3d;
            return null;
        };
    },
    deps: [
        [new Optional(), NgtSobaExtender],
        [new Optional(), NGT_OBJECT_WATCHED_CONTROLLER],
    ],
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib2JqZWN0M2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9saWIvZGkvb2JqZWN0M2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxRQUFRLEVBQVksTUFBTSxlQUFlLENBQUM7QUFFbkUsT0FBTyxFQUNMLDZCQUE2QixHQUU5QixNQUFNLHFDQUFxQyxDQUFDO0FBQzdDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUdwRCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsSUFBSSxjQUFjLENBQzdDLGlCQUFpQixDQUNsQixDQUFDO0FBQ0YsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQWE7SUFDOUMsT0FBTyxFQUFFLGFBQWE7SUFDdEIsVUFBVSxFQUFFLENBQ1YsWUFBNkMsRUFDN0MsZ0JBQXVDLEVBQ3ZDLEVBQUU7UUFDRixPQUFPLEdBQUcsRUFBRTtZQUNWLElBQUksWUFBWTtnQkFBRSxPQUFPLFlBQVksQ0FBQyxNQUFNLENBQUM7WUFDN0MsSUFBSSxnQkFBZ0I7Z0JBQUUsT0FBTyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUM7WUFDdkQsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDLENBQUM7SUFDSixDQUFDO0lBQ0QsSUFBSSxFQUFFO1FBQ0osQ0FBQyxJQUFJLFFBQVEsRUFBRSxFQUFFLGVBQWUsQ0FBQztRQUNqQyxDQUFDLElBQUksUUFBUSxFQUFFLEVBQUUsNkJBQTZCLENBQUM7S0FDaEQ7Q0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4sIE9wdGlvbmFsLCBQcm92aWRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHtcbiAgTkdUX09CSkVDVF9XQVRDSEVEX0NPTlRST0xMRVIsXG4gIE5ndE9iamVjdDNkQ29udHJvbGxlcixcbn0gZnJvbSAnLi4vY29udHJvbGxlcnMvb2JqZWN0LTNkLmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgTmd0U29iYUV4dGVuZGVyIH0gZnJvbSAnLi4vdGhyZWUvZXh0ZW5kZXInO1xuaW1wb3J0IHsgQW55RnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBOR1RfT0JKRUNUXzNEID0gbmV3IEluamVjdGlvblRva2VuPEFueUZ1bmN0aW9uPFRIUkVFLk9iamVjdDNEPj4oXG4gICdUSFJFRV9PQkpFQ1RfM0QnXG4pO1xuZXhwb3J0IGNvbnN0IE5HVF9PQkpFQ1RfM0RfUFJPVklERVI6IFByb3ZpZGVyID0ge1xuICBwcm92aWRlOiBOR1RfT0JKRUNUXzNELFxuICB1c2VGYWN0b3J5OiAoXG4gICAgc29iYUV4dGVuZGVyOiBOZ3RTb2JhRXh0ZW5kZXI8VEhSRUUuT2JqZWN0M0Q+LFxuICAgIG9iamVjdENvbnRyb2xsZXI6IE5ndE9iamVjdDNkQ29udHJvbGxlclxuICApID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHNvYmFFeHRlbmRlcikgcmV0dXJuIHNvYmFFeHRlbmRlci5vYmplY3Q7XG4gICAgICBpZiAob2JqZWN0Q29udHJvbGxlcikgcmV0dXJuIG9iamVjdENvbnRyb2xsZXIub2JqZWN0M2Q7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICB9LFxuICBkZXBzOiBbXG4gICAgW25ldyBPcHRpb25hbCgpLCBOZ3RTb2JhRXh0ZW5kZXJdLFxuICAgIFtuZXcgT3B0aW9uYWwoKSwgTkdUX09CSkVDVF9XQVRDSEVEX0NPTlRST0xMRVJdLFxuICBdLFxufTtcbiJdfQ==