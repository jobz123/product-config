var _NgtLod_lod;
import { __classPrivateFieldGet, __classPrivateFieldSet } from "tslib";
import { NGT_OBJECT_CONTROLLER_PROVIDER, NGT_OBJECT_WATCHED_CONTROLLER, NgtObject3dController, NgtObject3dControllerModule, } from '@angular-three/core';
import { Directive, EventEmitter, Inject, NgModule, NgZone, Output, } from '@angular/core';
import * as THREE from 'three';
import * as i0 from "@angular/core";
import * as i1 from "@angular-three/core";
export class NgtLod {
    constructor(objectController, ngZone) {
        this.objectController = objectController;
        this.ngZone = ngZone;
        this.ready = new EventEmitter();
        _NgtLod_lod.set(this, void 0);
        objectController.initFn = () => {
            __classPrivateFieldSet(this, _NgtLod_lod, new THREE.LOD(), "f");
            return __classPrivateFieldGet(this, _NgtLod_lod, "f");
        };
        objectController.readyFn = () => {
            this.ready.emit(this.lod);
        };
    }
    get lod() {
        return __classPrivateFieldGet(this, _NgtLod_lod, "f");
    }
    ngOnInit() {
        this.ngZone.runOutsideAngular(() => {
            this.objectController.init();
        });
    }
}
_NgtLod_lod = new WeakMap();
NgtLod.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.1", ngImport: i0, type: NgtLod, deps: [{ token: NGT_OBJECT_WATCHED_CONTROLLER }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Directive });
NgtLod.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "13.1.1", type: NgtLod, selector: "ngt-lod", outputs: { ready: "ready" }, providers: [NGT_OBJECT_CONTROLLER_PROVIDER], exportAs: ["ngtLod"], ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.1", ngImport: i0, type: NgtLod, decorators: [{
            type: Directive,
            args: [{
                    selector: 'ngt-lod',
                    exportAs: 'ngtLod',
                    providers: [NGT_OBJECT_CONTROLLER_PROVIDER],
                }]
        }], ctorParameters: function () { return [{ type: i1.NgtObject3dController, decorators: [{
                    type: Inject,
                    args: [NGT_OBJECT_WATCHED_CONTROLLER]
                }] }, { type: i0.NgZone }]; }, propDecorators: { ready: [{
                type: Output
            }] } });
export class NgtLodModule {
}
NgtLodModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.1", ngImport: i0, type: NgtLodModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
NgtLodModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.1.1", ngImport: i0, type: NgtLodModule, declarations: [NgtLod], exports: [NgtLod, NgtObject3dControllerModule] });
NgtLodModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.1.1", ngImport: i0, type: NgtLodModule, imports: [NgtObject3dControllerModule] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.1", ngImport: i0, type: NgtLodModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [NgtLod],
                    exports: [NgtLod, NgtObject3dControllerModule],
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9kLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvbG9kL3NyYy9saWIvbG9kLmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE9BQU8sRUFDTCw4QkFBOEIsRUFDOUIsNkJBQTZCLEVBQzdCLHFCQUFxQixFQUNyQiwyQkFBMkIsR0FDNUIsTUFBTSxxQkFBcUIsQ0FBQztBQUM3QixPQUFPLEVBQ0wsU0FBUyxFQUNULFlBQVksRUFDWixNQUFNLEVBQ04sUUFBUSxFQUNSLE1BQU0sRUFFTixNQUFNLEdBQ1AsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxLQUFLLEtBQUssTUFBTSxPQUFPLENBQUM7OztBQU8vQixNQUFNLE9BQU8sTUFBTTtJQVNqQixZQUVVLGdCQUF1QyxFQUN2QyxNQUFjO1FBRGQscUJBQWdCLEdBQWhCLGdCQUFnQixDQUF1QjtRQUN2QyxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBWGQsVUFBSyxHQUFHLElBQUksWUFBWSxFQUFhLENBQUM7UUFFaEQsOEJBQWlCO1FBV2YsZ0JBQWdCLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBRTtZQUM3Qix1QkFBQSxJQUFJLGVBQVEsSUFBSSxLQUFLLENBQUMsR0FBRyxFQUFFLE1BQUEsQ0FBQztZQUM1QixPQUFPLHVCQUFBLElBQUksbUJBQUssQ0FBQztRQUNuQixDQUFDLENBQUM7UUFFRixnQkFBZ0IsQ0FBQyxPQUFPLEdBQUcsR0FBRyxFQUFFO1lBQzlCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM1QixDQUFDLENBQUM7SUFDSixDQUFDO0lBakJELElBQUksR0FBRztRQUNMLE9BQU8sdUJBQUEsSUFBSSxtQkFBa0IsQ0FBQztJQUNoQyxDQUFDO0lBaUJELFFBQVE7UUFDTixJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRTtZQUNqQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDL0IsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDOzs7bUdBNUJVLE1BQU0sa0JBVVAsNkJBQTZCO3VGQVY1QixNQUFNLCtEQUZOLENBQUMsOEJBQThCLENBQUM7MkZBRWhDLE1BQU07a0JBTGxCLFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLFNBQVM7b0JBQ25CLFFBQVEsRUFBRSxRQUFRO29CQUNsQixTQUFTLEVBQUUsQ0FBQyw4QkFBOEIsQ0FBQztpQkFDNUM7OzBCQVdJLE1BQU07MkJBQUMsNkJBQTZCO2lFQVQ3QixLQUFLO3NCQUFkLE1BQU07O0FBa0NULE1BQU0sT0FBTyxZQUFZOzt5R0FBWixZQUFZOzBHQUFaLFlBQVksaUJBbkNaLE1BQU0sYUFBTixNQUFNLEVBaUNDLDJCQUEyQjswR0FFbEMsWUFBWSxZQUZMLDJCQUEyQjsyRkFFbEMsWUFBWTtrQkFKeEIsUUFBUTttQkFBQztvQkFDUixZQUFZLEVBQUUsQ0FBQyxNQUFNLENBQUM7b0JBQ3RCLE9BQU8sRUFBRSxDQUFDLE1BQU0sRUFBRSwyQkFBMkIsQ0FBQztpQkFDL0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBOR1RfT0JKRUNUX0NPTlRST0xMRVJfUFJPVklERVIsXG4gIE5HVF9PQkpFQ1RfV0FUQ0hFRF9DT05UUk9MTEVSLFxuICBOZ3RPYmplY3QzZENvbnRyb2xsZXIsXG4gIE5ndE9iamVjdDNkQ29udHJvbGxlck1vZHVsZSxcbn0gZnJvbSAnQGFuZ3VsYXItdGhyZWUvY29yZSc7XG5pbXBvcnQge1xuICBEaXJlY3RpdmUsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5qZWN0LFxuICBOZ01vZHVsZSxcbiAgTmdab25lLFxuICBPbkluaXQsXG4gIE91dHB1dCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ25ndC1sb2QnLFxuICBleHBvcnRBczogJ25ndExvZCcsXG4gIHByb3ZpZGVyczogW05HVF9PQkpFQ1RfQ09OVFJPTExFUl9QUk9WSURFUl0sXG59KVxuZXhwb3J0IGNsYXNzIE5ndExvZCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBPdXRwdXQoKSByZWFkeSA9IG5ldyBFdmVudEVtaXR0ZXI8VEhSRUUuTE9EPigpO1xuXG4gICNsb2Q/OiBUSFJFRS5MT0Q7XG5cbiAgZ2V0IGxvZCgpIHtcbiAgICByZXR1cm4gdGhpcy4jbG9kIGFzIFRIUkVFLkxPRDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIEBJbmplY3QoTkdUX09CSkVDVF9XQVRDSEVEX0NPTlRST0xMRVIpXG4gICAgcHJpdmF0ZSBvYmplY3RDb250cm9sbGVyOiBOZ3RPYmplY3QzZENvbnRyb2xsZXIsXG4gICAgcHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZVxuICApIHtcbiAgICBvYmplY3RDb250cm9sbGVyLmluaXRGbiA9ICgpID0+IHtcbiAgICAgIHRoaXMuI2xvZCA9IG5ldyBUSFJFRS5MT0QoKTtcbiAgICAgIHJldHVybiB0aGlzLiNsb2Q7XG4gICAgfTtcblxuICAgIG9iamVjdENvbnRyb2xsZXIucmVhZHlGbiA9ICgpID0+IHtcbiAgICAgIHRoaXMucmVhZHkuZW1pdCh0aGlzLmxvZCk7XG4gICAgfTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgIHRoaXMub2JqZWN0Q29udHJvbGxlci5pbml0KCk7XG4gICAgfSk7XG4gIH1cbn1cblxuQE5nTW9kdWxlKHtcbiAgZGVjbGFyYXRpb25zOiBbTmd0TG9kXSxcbiAgZXhwb3J0czogW05ndExvZCwgTmd0T2JqZWN0M2RDb250cm9sbGVyTW9kdWxlXSxcbn0pXG5leHBvcnQgY2xhc3MgTmd0TG9kTW9kdWxlIHt9XG4iXX0=